# Penetration Testing

## Project Overview

The Penetration Testing Lab is dedicated to evaluating and developing a wide range of hacking tools that play a crucial role in the penetration testing process for security audits. Through the utilization of data collected from the [HoneyNet project](https://github.com/alanshlam/HoneyNet), we gain valuable insights into the capabilities of attackers when it comes to exploiting system vulnerabilities. Furthermore, our project focuses on the evaluation of methodologies and tools aimed at enhancing IT infrastructure security capabilities within the broader IT industry. This includes the effective deployment of Network Monitoring, Firewalls, Intrusion Detection Systems (IDS), and Intrusion Prevention Systems (IPS).

We work towards refining and expanding our arsenal of hacking tools, ensuring they are equipped to address the ever-evolving landscape of cybersecurity threats. By continuously evaluating and enhancing these tools, we strive to provide cutting-edge solutions that empower organizations to safeguard their digital assets effectively.

Moreover, our research efforts are not limited to tool development alone. We actively seek to advance the field of IT infrastructure security by exploring new methodologies and techniques. Through rigorous testing and analysis, we aim to identify vulnerabilities and devise proactive measures to mitigate potential risks.

we strive to establish best practices for the deployment and configuration of essential security components. Network Monitoring enables real-time threat detection and response, ensuring the early identification of any suspicious activities. Firewalls act as a barrier, preventing unauthorized access and protecting sensitive data. Intrusion Detection Systems (IDS) continuously monitor network traffic, identifying potential threats and alerting security teams for prompt intervention. Intrusion Prevention Systems (IPS) go a step further by actively blocking and mitigating attacks, providing an additional layer of defense.


## Studies

- **Using Nmap and Metasploit for Penetration Testing**
  - The video below demonstrates how to use Nmap as a port scanner and vulnerability scanner to provide a low-cost solution during the reconnaissance process in a security audit. This video also demonstrates how to effectively use Metasploit in Kali Linux for penetration testing and verifying vulnerabilities discovered in the reconnaissance process.
    
     [<img src="./screenshot/nmap_metasploit.jpg" width="500">](https://www.youtube.com/watch?v=tkWUkARUzaQ)
    <br>(https://www.youtube.com/watch?v=tkWUkARUzaQ)

     You can download the network packet pcap file of the SMB break in at (https://github.com/alanshlam/HoneyNet/blob/main/pcap/smb.pcap)

- **Intercepting HTTPS Traffic via MITM Attack**
  - The video below demonstrates how an attacker can intercept HTTPS traffic and snoop on victim password information using a MITM attack via ARP poisoning.
     Normally, HTTPS network packets are encrypted by a session key between the client and web server. An attacker cannot decrypt the HTTPS traffic without the session key. However, if the attacker can redirect the victim's HTTPS traffic to their managed host (e.g., by DNS hijack or ARP poisoning in a LAN), they can supply their own session key to the victim host, decrypt the HTTPS traffic, and relay the HTTPS traffic between the victim host and the genuine web server.
    The demostration in this video shows that it is possible to sniff user passwords even in HTTPS traffic, which is encrypted by session key.
    
     [<img src="./screenshot/mitm.jpg" width="500">](https://www.youtube.com/watch?v=E_E2cYAhyiU&t=16s)
    <br>(https://www.youtube.com/watch?v=E_E2cYAhyiU&t=16s)

     You can download the network packet pcap file of this MITH attack  in at (https://github.com/alanshlam/HoneyNet/blob/main/pcap/mitm.pcap)
 

- **Time-based Blind SQL Injection**
  - The video below demonstrates how to dump a website database information, including user password hashes, using Time-based Blind SQL Injection. This type of injection relies on the database pausing for a specified amount of time before returning results, indicating successful query execution. The attacker enumerates each letter of the desired data using logic that causes the database to wait if a condition is met. You can get the source code of this Time-based Blind SQL Injection used in this demonstration from [here](./code/).

    [<img src="./screenshot/bsqli.jpg" width="500">](https://www.youtube.com/watch?v=rNzBF1s8byY)
    <br>(https://www.youtube.com/watch?v=rNzBF1s8byY)

- **Setting Up IPS with Suricata**
  - The video below demonstrates how to deploy an IPS to block network attacks, such as Nmap scans or SQL injection attacks, using Suricata. This IPS helps a network prevent cyberattacks even if there are vulnerable systems behind the firewall.
    
    [<img src="./screenshot/ids2.jpg" width="500">](https://www.youtube.com/watch?v=1Nclxir-qcw&t=13s)
    <br>(https://www.youtube.com/watch?v=1Nclxir-qcw&t=13s)


- **IT Infrastructure Monitoring**
  - The screenshots below demonstrate how to effectively monitor IT infrastructure using ntop-ng, Nagios,nfsen, InflunxD, and MRTG. These system and network monitoring tools help system administrators closely monitor their IT infrastructure and discover any suspicious network activities or potential attacks.
  - The ntop-ng shows the server network interface traffic
    <img src="./screenshot/ntop2.jpg" width="800">
    
  - The ntop-ng shows the active flow in a network
    <img src="./screenshot/ntop.jpg" width="800">
    
  - The nagios monitors the critical service in the IT infrastructure and send alerts when detected
    <img src="./screenshot/nagios.jpg" width="800">
    
  - Netflow traffic monitoring and query by nfsen
    <img src="./screenshot/nfsen.jpg" width="800">

  - InfluxDB visualizing Systat data
    <img src="./screenshot/sysstat.jpg" width="800">
  
  - MTRG shows the current status of a system
    <img src="./screenshot/mrtg.jpg" width="800">
  

## Future Work

- **AI Integration:** Integrate AI technologies to automate security audits in the initial stages, including information gathering during the reconnaissance process.
- **Knowledge Base Development:** Establish a comprehensive knowledge base for this project by leveraging large language models (LLMs) to capture essential know-how through collaboration on the [LLM knowledge base project](https://github.com/alanshlam/LLM).
- **Capacity Enhancement:** Strengthen the Penetration Testing Lab's capabilities to research advanced hacking techniques based on the latest CVEs (Common Vulnerabilities and Exposures) releases.
- **Countermeasure Evaluation:** Assess the effectiveness of countermeasures, such as Firewalls, IDS (Intrusion Detection Systems), and IPS (Intrusion Prevention Systems), against the most recent hacking techniques.





